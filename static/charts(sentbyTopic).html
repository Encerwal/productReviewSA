<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horizontal Stacking Bar Chart with Rounded Bars and Data Labels</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script> <!-- Include DataLabels plugin -->
</head>
<body>
    <canvas id="sentimentChart" width="400" height="200"></canvas>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const ctx = document.getElementById('sentimentChart').getContext('2d');

        const data = {
            labels: ['Quality', 'Price', 'Functionality', 'Others'], // Categories
            datasets: [
                {
                    label: 'Positive Sentiments',
                    data: [10, 15, 8, 12], // Replace with your actual data
                    backgroundColor: 'rgba(	40, 164, 40, 0.7)',
                    borderColor: 'rgba(	40, 164, 40, 1)',
                    borderWidth: 1,
                    borderRadius: 10, // Rounded corners
                },
                {
                    label: 'Negative Sentiments',
                    data: [5, 3, 7, 2], // Replace with your actual data
                    backgroundColor: 'rgba(223, 21, 41, 0.7)',
                    borderColor: 'rgba(223, 21, 41, 1)',
                    borderWidth: 1,
                    borderRadius: 10, // Rounded corners
                }
            ]
        };

        const options = {
            indexAxis: 'y', // This makes the chart horizontal
            scales: {
                x: {
                    beginAtZero: true,
                    stacked: true, // Stacks the bars on the x-axis
                    grid: {
                        display: false // Remove grid lines on the x-axis
                    },
                    ticks: {
                        display: false // Remove x-axis labels
                    },
                    border: {
                        display: false // Remove x-axis line
                    }
                },
                y: {
                    stacked: true, // Stacks the bars on the y-axis
                    grid: {
                        display: false // Remove grid lines on the y-axis
                    },
                    border: {
                        display: false // Remove y-axis line
                    }
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Sentiment by Topic',
                    align: 'start', // Align title to the start (top-left)
                    font: {
                        size: 16, // Font size for the title
                        weight: 'bold' // Font weight for the title
                    },
                    padding: {
                        top: 10, // Padding from the top
                        bottom: 10 // Padding from the bottom
                    }
                },
                legend: {
                    display: false // Disable the legend
                },
                datalabels: {
                    color: '#ffffff', // White text color
                    anchor: 'center', // Positions the label inside the bar
                    align: 'center', // Centers the label text
                    font: {
                        size: 20, // Increase the font size
                        weight: 'bold' // Make the text bold
                    },
                    formatter: (value, context) => {
                        return value; // Display the data value
                    }
                }
            }
        };

        const sentimentChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options,
            plugins: [ChartDataLabels] // Register the DataLabels plugin
        });
    });
    </script>
</body>
</html>